{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport { defineComponent, getCurrentInstance, computed, inject, ref, reactive, watch, provide, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow } from 'vue';\nimport { useTimeoutFn } from '@vueuse/core';\nimport _CollapseTransition from '../../collapse-transition/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport '../../../utils/index.mjs';\nimport { ArrowDown, ArrowRight } from '@element-plus/icons-vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport useMenu from './use-menu.mjs';\nimport { useMenuCssVar } from './use-menu-css-var.mjs';\nimport { buildProps } from '../../../utils/vue/props.mjs';\nimport { throwError } from '../../../utils/error.mjs';\nvar subMenuProps = buildProps({\n  index: {\n    type: String,\n    required: true\n  },\n  showTimeout: {\n    type: Number,\n    default: 300\n  },\n  hideTimeout: {\n    type: Number,\n    default: 300\n  },\n  popperClass: String,\n  disabled: Boolean,\n  popperAppendToBody: {\n    type: Boolean,\n    default: void 0\n  },\n  popperOffset: {\n    type: Number,\n    default: 6\n  }\n});\nvar COMPONENT_NAME = \"ElSubMenu\";\nvar SubMenu = defineComponent({\n  name: COMPONENT_NAME,\n  props: subMenuProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        expose = _ref.expose;\n    var instance = getCurrentInstance();\n\n    var _useMenu = useMenu(instance, computed(function () {\n      return props.index;\n    })),\n        paddingStyle = _useMenu.paddingStyle,\n        indexPath = _useMenu.indexPath,\n        parentMenu = _useMenu.parentMenu;\n\n    var rootMenu = inject(\"rootMenu\");\n    if (!rootMenu) throwError(COMPONENT_NAME, \"can not inject root menu\");\n    var subMenu = inject(\"subMenu:\".concat(parentMenu.value.uid));\n    if (!subMenu) throwError(COMPONENT_NAME, \"can not inject sub menu\");\n    var items = ref({});\n    var subMenus = ref({});\n    var timeout;\n    var mouseInChild = ref(false);\n    var verticalTitleRef = ref();\n    var vPopper = ref(null);\n    var currentPlacement = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    });\n    var subMenuTitleIcon = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootMenu.props.collapse ? ArrowDown : ArrowRight;\n    });\n    var isFirstLevel = computed(function () {\n      var isFirstLevel2 = true;\n      var parent = instance.parent;\n\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubMenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n\n      return isFirstLevel2;\n    });\n    var appendToBody = computed(function () {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    var menuTransitionName = computed(function () {\n      return rootMenu.props.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\";\n    });\n    var fallbackPlacements = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value ? [\"bottom-start\", \"bottom-end\", \"top-start\", \"top-end\", \"right-start\", \"left-start\"] : [\"right-start\", \"left-start\", \"bottom-start\", \"bottom-end\", \"top-start\", \"top-end\"];\n    });\n    var opened = computed(function () {\n      return rootMenu.openedMenus.includes(props.index);\n    });\n    var active = computed(function () {\n      var isActive = false;\n      Object.values(items.value).forEach(function (item2) {\n        if (item2.active) {\n          isActive = true;\n        }\n      });\n      Object.values(subMenus.value).forEach(function (subItem) {\n        if (subItem.active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    var backgroundColor = computed(function () {\n      return rootMenu.props.backgroundColor || \"\";\n    });\n    var activeTextColor = computed(function () {\n      return rootMenu.props.activeTextColor || \"\";\n    });\n    var textColor = computed(function () {\n      return rootMenu.props.textColor || \"\";\n    });\n    var mode = computed(function () {\n      return rootMenu.props.mode;\n    });\n    var item = reactive({\n      index: props.index,\n      indexPath: indexPath,\n      active: active\n    });\n    var titleStyle = computed(function () {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n\n      return {\n        borderBottomColor: active.value ? rootMenu.props.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n\n    var doDestroy = function doDestroy() {\n      var _a, _b, _c;\n\n      return (_c = (_b = (_a = vPopper.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.popperInstanceRef) == null ? void 0 : _c.destroy();\n    };\n\n    var handleCollapseToggle = function handleCollapseToggle(value) {\n      if (!value) {\n        doDestroy();\n      }\n    };\n\n    var handleClick = function handleClick() {\n      if (rootMenu.props.menuTrigger === \"hover\" && rootMenu.props.mode === \"horizontal\" || rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) return;\n      rootMenu.handleSubMenuClick({\n        index: props.index,\n        indexPath: indexPath.value,\n        active: active.value\n      });\n    };\n\n    var handleMouseenter = function handleMouseenter(event) {\n      var showTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.showTimeout;\n\n      var _a;\n\n      if (event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) {\n        return;\n      }\n\n      subMenu.mouseInChild.value = true;\n      timeout == null ? void 0 : timeout();\n\n      var _useTimeoutFn = useTimeoutFn(function () {\n        rootMenu.openMenu(props.index, indexPath.value);\n      }, showTimeout);\n\n      timeout = _useTimeoutFn.stop;\n\n      if (appendToBody.value) {\n        (_a = parentMenu.value.vnode.el) == null ? void 0 : _a.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n\n    var handleMouseleave = function handleMouseleave() {\n      var deepDispatch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var _a, _b;\n\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\") {\n        return;\n      }\n\n      timeout == null ? void 0 : timeout();\n      subMenu.mouseInChild.value = false;\n\n      var _useTimeoutFn2 = useTimeoutFn(function () {\n        return !mouseInChild.value && rootMenu.closeMenu(props.index, indexPath.value);\n      }, props.hideTimeout);\n\n      timeout = _useTimeoutFn2.stop;\n\n      if (appendToBody.value && deepDispatch) {\n        if (((_a = instance.parent) == null ? void 0 : _a.type.name) === \"ElSubMenu\") {\n          (_b = subMenu.handleMouseleave) == null ? void 0 : _b.call(subMenu, true);\n        }\n      }\n    };\n\n    watch(function () {\n      return rootMenu.props.collapse;\n    }, function (value) {\n      return handleCollapseToggle(Boolean(value));\n    });\n    {\n      var addSubMenu = function addSubMenu(item2) {\n        subMenus.value[item2.index] = item2;\n      };\n\n      var removeSubMenu = function removeSubMenu(item2) {\n        delete subMenus.value[item2.index];\n      };\n\n      provide(\"subMenu:\".concat(instance.uid), {\n        addSubMenu: addSubMenu,\n        removeSubMenu: removeSubMenu,\n        handleMouseleave: handleMouseleave,\n        mouseInChild: mouseInChild\n      });\n    }\n    expose({\n      opened: opened\n    });\n    onMounted(function () {\n      rootMenu.addSubMenu(item);\n      subMenu.addSubMenu(item);\n    });\n    onBeforeUnmount(function () {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeSubMenu(item);\n    });\n    return function () {\n      var _a;\n\n      var titleTag = [(_a = slots.title) == null ? void 0 : _a.call(slots), h(ElIcon, {\n        class: [\"el-sub-menu__icon-arrow\"]\n      }, {\n        default: function _default() {\n          return h(subMenuTitleIcon.value);\n        }\n      })];\n      var ulStyle = useMenuCssVar(rootMenu.props);\n      var child = rootMenu.isMenuPopup ? h(ElTooltip, {\n        ref: vPopper,\n        visible: opened.value,\n        effect: \"light\",\n        pure: true,\n        offset: props.popperOffset,\n        showArrow: false,\n        persistent: true,\n        popperClass: props.popperClass,\n        placement: currentPlacement.value,\n        teleported: appendToBody.value,\n        fallbackPlacements: fallbackPlacements.value,\n        transition: menuTransitionName.value,\n        gpuAcceleration: false\n      }, {\n        content: function content() {\n          var _a2;\n\n          return h(\"div\", {\n            class: [\"el-menu--\".concat(mode.value), props.popperClass],\n            onMouseenter: function onMouseenter(evt) {\n              return handleMouseenter(evt, 100);\n            },\n            onMouseleave: function onMouseleave() {\n              return handleMouseleave(true);\n            },\n            onFocus: function onFocus(evt) {\n              return handleMouseenter(evt, 100);\n            }\n          }, [h(\"ul\", {\n            class: [\"el-menu el-menu--popup\", \"el-menu--popup-\".concat(currentPlacement.value)],\n            style: ulStyle.value\n          }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])]);\n        },\n        default: function _default() {\n          return h(\"div\", {\n            class: \"el-sub-menu__title\",\n            style: [paddingStyle.value, titleStyle.value, {\n              backgroundColor: backgroundColor.value\n            }],\n            onClick: handleClick\n          }, titleTag);\n        }\n      }) : h(Fragment, {}, [h(\"div\", {\n        class: \"el-sub-menu__title\",\n        style: [paddingStyle.value, titleStyle.value, {\n          backgroundColor: backgroundColor.value\n        }],\n        ref: verticalTitleRef,\n        onClick: handleClick\n      }, titleTag), h(_CollapseTransition, {}, {\n        default: function _default() {\n          var _a2;\n\n          return withDirectives(h(\"ul\", {\n            role: \"menu\",\n            class: \"el-menu el-menu--inline\",\n            style: ulStyle.value\n          }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)]), [[vShow, opened.value]]);\n        }\n      })]);\n      return h(\"li\", {\n        class: [\"el-sub-menu\", {\n          \"is-active\": active.value,\n          \"is-opened\": opened.value,\n          \"is-disabled\": props.disabled\n        }],\n        role: \"menuitem\",\n        ariaHaspopup: true,\n        ariaExpanded: opened.value,\n        onMouseenter: handleMouseenter,\n        onMouseleave: function onMouseleave() {\n          return handleMouseleave(true);\n        },\n        onFocus: handleMouseenter\n      }, [child]);\n    };\n  }\n});\nexport { SubMenu as default, subMenuProps };","map":{"version":3,"mappings":"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","names":["subMenuProps","buildProps","index","type","String","required","showTimeout","Number","default","hideTimeout","popperClass","disabled","Boolean","popperAppendToBody","popperOffset","COMPONENT_NAME","defineComponent","name","props","setup","slots","expose","instance","getCurrentInstance","useMenu","computed","paddingStyle","indexPath","parentMenu","rootMenu","inject","throwError","subMenu","value","uid","items","ref","subMenus","timeout","mouseInChild","verticalTitleRef","vPopper","currentPlacement","mode","isFirstLevel","subMenuTitleIcon","collapse","ArrowDown","ArrowRight","isFirstLevel2","parent","includes","appendToBody","menuTransitionName","fallbackPlacements","opened","openedMenus","active","isActive","Object","values","forEach","item2","subItem","backgroundColor","activeTextColor","textColor","item","reactive","titleStyle","color","borderBottomColor","doDestroy","_a","_b","_c","popperRef","popperInstanceRef","destroy","handleCollapseToggle","handleClick","menuTrigger","handleSubMenuClick","handleMouseenter","event","relatedTarget","useTimeoutFn","openMenu","stop","vnode","el","dispatchEvent","MouseEvent","handleMouseleave","deepDispatch","closeMenu","call","watch","addSubMenu","removeSubMenu","provide","onMounted","onBeforeUnmount","titleTag","title","h","ElIcon","class","ulStyle","useMenuCssVar","child","isMenuPopup","ElTooltip","visible","effect","pure","offset","showArrow","persistent","placement","teleported","transition","gpuAcceleration","content","_a2","onMouseenter","evt","onMouseleave","onFocus","style","onClick","Fragment","ElCollapseTransition","withDirectives","role","vShow","ariaHaspopup","ariaExpanded"],"sources":["../../../../../../packages/components/menu/src/sub-menu.ts"],"sourcesContent":["import {\n  defineComponent,\n  computed,\n  ref,\n  provide,\n  inject,\n  getCurrentInstance,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  withDirectives,\n  Fragment,\n  vShow,\n  h,\n  reactive,\n} from 'vue'\nimport { useTimeoutFn } from '@vueuse/core'\nimport ElCollapseTransition from '@element-plus/components/collapse-transition'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { buildProps, throwError } from '@element-plus/utils'\nimport { ArrowDown, ArrowRight } from '@element-plus/icons-vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport useMenu from './use-menu'\nimport { useMenuCssVar } from './use-menu-css-var'\n\nimport type { Placement } from '@element-plus/components/popper'\nimport type { ExtractPropTypes, VNodeArrayChildren, CSSProperties } from 'vue'\nimport type { MenuProvider, SubMenuProvider } from './types'\n\nexport const subMenuProps = buildProps({\n  index: {\n    type: String,\n    required: true,\n  },\n  showTimeout: {\n    type: Number,\n    default: 300,\n  },\n  hideTimeout: {\n    type: Number,\n    default: 300,\n  },\n  popperClass: String,\n  disabled: Boolean,\n  popperAppendToBody: {\n    type: Boolean,\n    default: undefined,\n  },\n  popperOffset: {\n    type: Number,\n    default: 6,\n  },\n} as const)\nexport type SubMenuProps = ExtractPropTypes<typeof subMenuProps>\n\nconst COMPONENT_NAME = 'ElSubMenu'\nexport default defineComponent({\n  name: COMPONENT_NAME,\n  props: subMenuProps,\n\n  setup(props, { slots, expose }) {\n    const instance = getCurrentInstance()!\n    const { paddingStyle, indexPath, parentMenu } = useMenu(\n      instance,\n      computed(() => props.index)\n    )\n\n    // inject\n    const rootMenu = inject<MenuProvider>('rootMenu')\n    if (!rootMenu) throwError(COMPONENT_NAME, 'can not inject root menu')\n\n    const subMenu = inject<SubMenuProvider>(`subMenu:${parentMenu.value!.uid}`)\n    if (!subMenu) throwError(COMPONENT_NAME, 'can not inject sub menu')\n\n    const items = ref<MenuProvider['items']>({})\n    const subMenus = ref<MenuProvider['subMenus']>({})\n\n    let timeout: (() => void) | undefined\n    const mouseInChild = ref(false)\n    const verticalTitleRef = ref<HTMLDivElement>()\n    const vPopper = ref<InstanceType<typeof ElTooltip> | null>(null)\n\n    // computed\n    const currentPlacement = computed<Placement>(() =>\n      mode.value === 'horizontal' && isFirstLevel.value\n        ? 'bottom-start'\n        : 'right-start'\n    )\n    const subMenuTitleIcon = computed(() => {\n      return (mode.value === 'horizontal' && isFirstLevel.value) ||\n        (mode.value === 'vertical' && !rootMenu.props.collapse)\n        ? ArrowDown\n        : ArrowRight\n    })\n    const isFirstLevel = computed(() => {\n      let isFirstLevel = true\n      let parent = instance.parent\n      while (parent && parent.type.name !== 'ElMenu') {\n        if (['ElSubMenu', 'ElMenuItemGroup'].includes(parent.type.name!)) {\n          isFirstLevel = false\n          break\n        } else {\n          parent = parent.parent\n        }\n      }\n      return isFirstLevel\n    })\n    const appendToBody = computed(() => {\n      return props.popperAppendToBody === undefined\n        ? isFirstLevel.value\n        : Boolean(props.popperAppendToBody)\n    })\n    const menuTransitionName = computed(() =>\n      rootMenu.props.collapse ? 'el-zoom-in-left' : 'el-zoom-in-top'\n    )\n    const fallbackPlacements = computed<Placement[]>(() =>\n      mode.value === 'horizontal' && isFirstLevel.value\n        ? [\n            'bottom-start',\n            'bottom-end',\n            'top-start',\n            'top-end',\n            'right-start',\n            'left-start',\n          ]\n        : [\n            'right-start',\n            'left-start',\n            'bottom-start',\n            'bottom-end',\n            'top-start',\n            'top-end',\n          ]\n    )\n    const opened = computed(() => rootMenu.openedMenus.includes(props.index))\n    const active = computed(() => {\n      let isActive = false\n\n      Object.values(items.value).forEach((item) => {\n        if (item.active) {\n          isActive = true\n        }\n      })\n\n      Object.values(subMenus.value).forEach((subItem) => {\n        if (subItem.active) {\n          isActive = true\n        }\n      })\n\n      return isActive\n    })\n\n    const backgroundColor = computed(() => rootMenu.props.backgroundColor || '')\n    const activeTextColor = computed(() => rootMenu.props.activeTextColor || '')\n    const textColor = computed(() => rootMenu.props.textColor || '')\n    const mode = computed(() => rootMenu.props.mode)\n    const item = reactive({\n      index: props.index,\n      indexPath,\n      active,\n    })\n\n    const titleStyle = computed<CSSProperties>(() => {\n      if (mode.value !== 'horizontal') {\n        return {\n          color: textColor.value,\n        }\n      }\n      return {\n        borderBottomColor: active.value\n          ? rootMenu.props.activeTextColor\n            ? activeTextColor.value\n            : ''\n          : 'transparent',\n        color: active.value ? activeTextColor.value : textColor.value,\n      }\n    })\n\n    // methods\n    const doDestroy = () =>\n      vPopper.value?.popperRef?.popperInstanceRef?.destroy()\n\n    const handleCollapseToggle = (value: boolean) => {\n      if (!value) {\n        doDestroy()\n      }\n    }\n\n    const handleClick = () => {\n      if (\n        (rootMenu.props.menuTrigger === 'hover' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (rootMenu.props.collapse && rootMenu.props.mode === 'vertical') ||\n        props.disabled\n      )\n        return\n\n      rootMenu.handleSubMenuClick({\n        index: props.index,\n        indexPath: indexPath.value,\n        active: active.value,\n      })\n    }\n\n    const handleMouseenter = (\n      event: MouseEvent | FocusEvent,\n      showTimeout = props.showTimeout\n    ) => {\n      if (event.type === 'focus' && !event.relatedTarget) {\n        return\n      }\n      if (\n        (rootMenu.props.menuTrigger === 'click' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (!rootMenu.props.collapse && rootMenu.props.mode === 'vertical') ||\n        props.disabled\n      ) {\n        return\n      }\n      subMenu.mouseInChild.value = true\n\n      timeout?.()\n      ;({ stop: timeout } = useTimeoutFn(() => {\n        rootMenu.openMenu(props.index, indexPath.value)\n      }, showTimeout))\n\n      if (appendToBody.value) {\n        parentMenu.value.vnode.el?.dispatchEvent(new MouseEvent('mouseenter'))\n      }\n    }\n\n    const handleMouseleave = (deepDispatch = false) => {\n      if (\n        (rootMenu.props.menuTrigger === 'click' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (!rootMenu.props.collapse && rootMenu.props.mode === 'vertical')\n      ) {\n        return\n      }\n      timeout?.()\n      subMenu.mouseInChild.value = false\n      ;({ stop: timeout } = useTimeoutFn(\n        () =>\n          !mouseInChild.value &&\n          rootMenu.closeMenu(props.index, indexPath.value),\n        props.hideTimeout\n      ))\n\n      if (appendToBody.value && deepDispatch) {\n        if (instance.parent?.type.name === 'ElSubMenu') {\n          subMenu.handleMouseleave?.(true)\n        }\n      }\n    }\n\n    watch(\n      () => rootMenu.props.collapse,\n      (value) => handleCollapseToggle(Boolean(value))\n    )\n\n    // provide\n    {\n      const addSubMenu: SubMenuProvider['addSubMenu'] = (item) => {\n        subMenus.value[item.index] = item\n      }\n      const removeSubMenu: SubMenuProvider['removeSubMenu'] = (item) => {\n        delete subMenus.value[item.index]\n      }\n      provide<SubMenuProvider>(`subMenu:${instance.uid}`, {\n        addSubMenu,\n        removeSubMenu,\n        handleMouseleave,\n        mouseInChild,\n      })\n    }\n\n    // expose\n    expose({\n      opened,\n    })\n\n    // lifecycle\n    onMounted(() => {\n      rootMenu.addSubMenu(item)\n      subMenu.addSubMenu(item)\n    })\n\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item)\n      rootMenu.removeSubMenu(item)\n    })\n\n    return () => {\n      const titleTag: VNodeArrayChildren = [\n        slots.title?.(),\n        h(\n          ElIcon,\n          {\n            class: ['el-sub-menu__icon-arrow'],\n          },\n          { default: () => h(subMenuTitleIcon.value) }\n        ),\n      ]\n\n      const ulStyle = useMenuCssVar(rootMenu.props)\n\n      // this render function is only used for bypass `Vue`'s compiler caused patching issue.\n      // temporarily mark ElPopper as any due to type inconsistency.\n      const child = rootMenu.isMenuPopup\n        ? h(\n            // TODO: correct popper's type.\n            ElTooltip as any,\n            {\n              ref: vPopper,\n              visible: opened.value,\n              effect: 'light',\n              pure: true,\n              offset: props.popperOffset,\n              showArrow: false,\n              persistent: true,\n              popperClass: props.popperClass,\n              placement: currentPlacement.value,\n              teleported: appendToBody.value,\n              fallbackPlacements: fallbackPlacements.value,\n              transition: menuTransitionName.value,\n              gpuAcceleration: false,\n            },\n            {\n              content: () =>\n                h(\n                  'div',\n                  {\n                    class: [`el-menu--${mode.value}`, props.popperClass],\n                    onMouseenter: (evt: MouseEvent) =>\n                      handleMouseenter(evt, 100),\n                    onMouseleave: () => handleMouseleave(true),\n                    onFocus: (evt: FocusEvent) => handleMouseenter(evt, 100),\n                  },\n                  [\n                    h(\n                      'ul',\n                      {\n                        class: [\n                          'el-menu el-menu--popup',\n                          `el-menu--popup-${currentPlacement.value}`,\n                        ],\n                        style: ulStyle.value,\n                      },\n                      [slots.default?.()]\n                    ),\n                  ]\n                ),\n              default: () =>\n                h(\n                  'div',\n                  {\n                    class: 'el-sub-menu__title',\n                    style: [\n                      paddingStyle.value,\n                      titleStyle.value,\n                      { backgroundColor: backgroundColor.value },\n                    ],\n                    onClick: handleClick,\n                  },\n                  titleTag\n                ),\n            }\n          )\n        : h(Fragment, {}, [\n            h(\n              'div',\n              {\n                class: 'el-sub-menu__title',\n                style: [\n                  paddingStyle.value,\n                  titleStyle.value,\n                  { backgroundColor: backgroundColor.value },\n                ],\n                ref: verticalTitleRef,\n                onClick: handleClick,\n              },\n              titleTag\n            ),\n            h(\n              ElCollapseTransition,\n              {},\n              {\n                default: () =>\n                  withDirectives(\n                    h(\n                      'ul',\n                      {\n                        role: 'menu',\n                        class: 'el-menu el-menu--inline',\n                        style: ulStyle.value,\n                      },\n                      [slots.default?.()]\n                    ),\n                    [[vShow, opened.value]]\n                  ),\n              }\n            ),\n          ])\n\n      return h(\n        'li',\n        {\n          class: [\n            'el-sub-menu',\n            {\n              'is-active': active.value,\n              'is-opened': opened.value,\n              'is-disabled': props.disabled,\n            },\n          ],\n          role: 'menuitem',\n          ariaHaspopup: true,\n          ariaExpanded: opened.value,\n          onMouseenter: handleMouseenter,\n          onMouseleave: () => handleMouseleave(true),\n          onFocus: handleMouseenter,\n        },\n        [child]\n      )\n    }\n  },\n})\n"]},"metadata":{},"sourceType":"module"}