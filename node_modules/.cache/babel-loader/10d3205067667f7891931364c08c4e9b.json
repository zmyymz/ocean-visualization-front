{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.slice.js\";\n\n/**\n * @module ol/render/Box\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\n\nvar RenderBox =\n/** @class */\nfunction (_super) {\n  __extends(RenderBox, _super);\n  /**\n   * @param {string} className CSS class name.\n   */\n\n\n  function RenderBox(className) {\n    var _this = _super.call(this) || this;\n    /**\n     * @type {import(\"../geom/Polygon.js\").default}\n     * @private\n     */\n\n\n    _this.geometry_ = null;\n    /**\n     * @type {HTMLDivElement}\n     * @private\n     */\n\n    _this.element_ = document.createElement('div');\n    _this.element_.style.position = 'absolute';\n    _this.element_.style.pointerEvents = 'auto';\n    _this.element_.className = 'ol-box ' + className;\n    /**\n     * @private\n     * @type {import(\"../PluggableMap.js\").default|null}\n     */\n\n    _this.map_ = null;\n    /**\n     * @private\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n\n    _this.startPixel_ = null;\n    /**\n     * @private\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n\n    _this.endPixel_ = null;\n    return _this;\n  }\n  /**\n   * Clean up.\n   */\n\n\n  RenderBox.prototype.disposeInternal = function () {\n    this.setMap(null);\n  };\n  /**\n   * @private\n   */\n\n\n  RenderBox.prototype.render_ = function () {\n    var startPixel = this.startPixel_;\n    var endPixel = this.endPixel_;\n    var px = 'px';\n    var style = this.element_.style;\n    style.left = Math.min(startPixel[0], endPixel[0]) + px;\n    style.top = Math.min(startPixel[1], endPixel[1]) + px;\n    style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n    style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n  };\n  /**\n   * @param {import(\"../PluggableMap.js\").default|null} map Map.\n   */\n\n\n  RenderBox.prototype.setMap = function (map) {\n    if (this.map_) {\n      this.map_.getOverlayContainer().removeChild(this.element_);\n      var style = this.element_.style;\n      style.left = 'inherit';\n      style.top = 'inherit';\n      style.width = 'inherit';\n      style.height = 'inherit';\n    }\n\n    this.map_ = map;\n\n    if (this.map_) {\n      this.map_.getOverlayContainer().appendChild(this.element_);\n    }\n  };\n  /**\n   * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n   * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n   */\n\n\n  RenderBox.prototype.setPixels = function (startPixel, endPixel) {\n    this.startPixel_ = startPixel;\n    this.endPixel_ = endPixel;\n    this.createOrUpdateGeometry();\n    this.render_();\n  };\n  /**\n   * Creates or updates the cached geometry.\n   */\n\n\n  RenderBox.prototype.createOrUpdateGeometry = function () {\n    var startPixel = this.startPixel_;\n    var endPixel = this.endPixel_;\n    var pixels = [startPixel, [startPixel[0], endPixel[1]], endPixel, [endPixel[0], startPixel[1]]];\n    var coordinates = pixels.map(this.map_.getCoordinateFromPixelInternal, this.map_); // close the polygon\n\n    coordinates[4] = coordinates[0].slice();\n\n    if (!this.geometry_) {\n      this.geometry_ = new Polygon([coordinates]);\n    } else {\n      this.geometry_.setCoordinates([coordinates]);\n    }\n  };\n  /**\n   * @return {import(\"../geom/Polygon.js\").default} Geometry.\n   */\n\n\n  RenderBox.prototype.getGeometry = function () {\n    return this.geometry_;\n  };\n\n  return RenderBox;\n}(Disposable);\n\nexport default RenderBox;","map":{"version":3,"mappings":"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","names":["Disposable","Polygon","__extends","className","_super","_this","geometry_","element_","document","createElement","style","position","pointerEvents","map_","startPixel_","endPixel_","RenderBox","setMap","startPixel","endPixel","px","left","Math","min","top","width","abs","height","map","getOverlayContainer","removeChild","appendChild","createOrUpdateGeometry","render_","pixels","coordinates","getCoordinateFromPixelInternal","slice","setCoordinates"],"sourceRoot":"","sources":["../src/render/Box.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}