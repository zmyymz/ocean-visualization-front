{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { computed } from 'vue';\n\nvar useComputedData = function useComputedData(props) {\n  var propsKey = computed(function () {\n    return props.props.key;\n  });\n  var dataObj = computed(function () {\n    return props.data.reduce(function (o, cur) {\n      return (o[cur[propsKey.value]] = cur) && o;\n    }, {});\n  });\n  var sourceData = computed(function () {\n    return props.data.filter(function (item) {\n      return !props.modelValue.includes(item[propsKey.value]);\n    });\n  });\n  var targetData = computed(function () {\n    if (props.targetOrder === \"original\") {\n      return props.data.filter(function (item) {\n        return props.modelValue.includes(item[propsKey.value]);\n      });\n    } else {\n      return props.modelValue.reduce(function (arr, cur) {\n        var val = dataObj.value[cur];\n\n        if (val) {\n          arr.push(val);\n        }\n\n        return arr;\n      }, []);\n    }\n  });\n  return {\n    propsKey: propsKey,\n    sourceData: sourceData,\n    targetData: targetData\n  };\n};\n\nexport { useComputedData };","map":{"version":3,"mappings":";;;;;;AACY,IAACA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACxC,MAAMC,QAAQ,GAAGC,QAAQ,CAAC;AAAA,WAAMF,KAAK,CAACA,KAAN,CAAYG,GAAlB;AAAA,GAAD,CAAzB;AACA,MAAMC,OAAO,GAAGF,QAAQ,CAAC,YAAM;AAC7B,WAAOF,KAAK,CAACK,IAAN,CAAWC,MAAX,CAAkB,UAACC,CAAD,EAAIC,GAAJ;AAAA,aAAY,CAACD,CAAC,CAACC,GAAG,CAACP,QAAQ,CAACQ,KAAV,CAAJ,CAAD,GAAyBD,GAA1B,KAAkCD,CAA9C;AAAA,KAAlB,EAAmE,EAAnE,CAAP;AACD,GAFuB,CAAxB;AAGA,MAAMG,UAAU,GAAGR,QAAQ,CAAC,YAAM;AAChC,WAAOF,KAAK,CAACK,IAAN,CAAWM,MAAX,CAAkB,UAACC,IAAD;AAAA,aAAU,CAACZ,KAAK,CAACa,UAAN,CAAiBC,QAAjB,CAA0BF,IAAI,CAACX,QAAQ,CAACQ,KAAV,CAA9B,CAAX;AAAA,KAAlB,CAAP;AACD,GAF0B,CAA3B;AAGA,MAAMM,UAAU,GAAGb,QAAQ,CAAC,YAAM;AAChC,QAAIF,KAAK,CAACgB,WAAN,KAAsB,UAA1B,EAAsC;AACpC,aAAOhB,KAAK,CAACK,IAAN,CAAWM,MAAX,CAAkB,UAACC,IAAD;AAAA,eAAUZ,KAAK,CAACa,UAAN,CAAiBC,QAAjB,CAA0BF,IAAI,CAACX,QAAQ,CAACQ,KAAV,CAA9B,CAAV;AAAA,OAAlB,CAAP;AACD,KAFD,MAEO;AACL,aAAOT,KAAK,CAACa,UAAN,CAAiBP,MAAjB,CAAwB,UAACW,GAAD,EAAMT,GAAN,EAAc;AAC3C,YAAMU,GAAG,GAAGd,OAAO,CAACK,KAAR,CAAcD,GAAd,CAAZ;;AACA,YAAIU,GAAJ,EAAS;AACPD,aAAG,CAACE,IAAJ,CAASD,GAAT;AACD;;AACD,eAAOD,GAAP;AACD,OANM,EAMJ,EANI,CAAP;AAOD;AACF,GAZ0B,CAA3B;AAaA,SAAO;AACLhB,YAAQ,EAARA,QADK;AAELS,cAAU,EAAVA,UAFK;AAGLK,cAAU,EAAVA;AAHK,GAAP;AAKF,CA1BY","names":["useComputedData","props","propsKey","computed","key","dataObj","data","reduce","o","cur","value","sourceData","filter","item","modelValue","includes","targetData","targetOrder","arr","val","push"],"sources":["../../../../../../packages/components/transfer/src/useComputedData.ts"],"sourcesContent":["import { computed } from 'vue'\n\nimport type { TransferProps } from './transfer'\n\nexport const useComputedData = (props: TransferProps) => {\n  const propsKey = computed(() => props.props.key)\n\n  const dataObj = computed(() => {\n    return props.data.reduce(\n      (o, cur) => (o[cur[propsKey.value]] = cur) && o,\n      {}\n    )\n  })\n\n  const sourceData = computed(() => {\n    return props.data.filter(\n      (item) => !props.modelValue.includes(item[propsKey.value])\n    )\n  })\n\n  const targetData = computed(() => {\n    if (props.targetOrder === 'original') {\n      return props.data.filter((item) =>\n        props.modelValue.includes(item[propsKey.value])\n      )\n    } else {\n      return props.modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur]\n        if (val) {\n          arr.push(val)\n        }\n        return arr\n      }, [])\n    }\n  })\n\n  return {\n    propsKey,\n    sourceData,\n    targetData,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}