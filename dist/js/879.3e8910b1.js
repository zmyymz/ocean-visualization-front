"use strict";(self["webpackChunkocean_vis"]=self["webpackChunkocean_vis"]||[]).push([[879],{6:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("div",{staticClass:"maptitle"},[e._v("标题")]),a("div",{attrs:{id:"mapPanel1"}},[a("div",{staticClass:"titlelng",staticStyle:{"text-align":"center","font-size":"12px","font-weight":"bold","writing-mode":"tb",transform:"rotate(180deg)"}},[e._v(" Latitude(°)")]),a("div",{ref:"left",staticClass:"left"}),a("div",{staticClass:"map"}),e._m(0)]),a("div",{staticClass:"top1"}),a("div",{staticClass:"titlelng",staticStyle:{"text-align":"center","font-size":"12px","font-weight":"bold"}},[e._v("Longitude(°)")]),a("div",{attrs:{id:"mapfooter1"}},[a("div",{ref:"scale",staticClass:"scale"}),a("div",{ref:"mapval",staticClass:"mapval"},[e._v("无")]),a("div",{ref:"lnglat1",staticClass:"lnglat",attrs:{id:"lnglat1"}})])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right"},[a("img",{staticClass:"legend1",staticStyle:{height:"100%"},attrs:{src:""}})])}],i=(a(8646),a(4156),{name:"Map",data(){return{map:null}},mounted(){},methods:{initMap:function(){let e=this;this.map.on("moveend",(function(t){let a="Scale 1 : "+document.getElementsByClassName("ol-scale-line1-inner")[0].innerHTML;document.getElementById("mapfooter1").getElementsByClassName("scale")[0].innerHTML=a;let s=e.map.getView().calculateExtent(),n=(s[2]-s[0])/5,i=(s[3]-s[1])/5,l="",r="";for(let e=0;e<5;e++)l+=`<div class="kedu1"><span>${(i*e+s[1]).toFixed(1)}</span></div>`,r+=`<div class="kedu2"><span>${(n*e+s[0]).toFixed(1)}</span></div>`;document.getElementById("mapPanel1").getElementsByClassName("left")[0].innerHTML=l,document.getElementsByClassName("top1")[0].innerHTML=r})),this.map.on("singleclick",(function(e){if(""===addedLayer)return void alert("请先加载影像！");let t=e.coordinate,a=t[0]-2+","+(t[1]-2)+","+(t[0]+2)+","+(t[1]+2);$.get(`/mygeoserver/geoserver/cite/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&FORMAT=image%2Fjpeg\n              &TRANSPARENT=true&QUERY_LAYERS=${addedLayer}&LAYERS=${addedLayer}&exceptions=application%2Fvnd.ogc.se_inimage&INFO_FORMAT=application%2Fjson\n              &FEATURE_COUNT=50&X=50&Y=50&SRS=EPSG%3A404000&STYLES=&WIDTH=101&HEIGHT=101&BBOX=${a}`,(e=>{let t="无";0!==e.features.length&&(t=e.features[0].properties.GRAY_INDEX.toFixed(4)),document.getElementById("mapfooter1").getElementsByClassName("mapval")[0].innerHTML=t}))}))}}}),l=i,r=a(1001),d=(0,r.Z)(l,s,n,!1,null,null,null),c=d.exports}}]);
//# sourceMappingURL=879.3e8910b1.js.map