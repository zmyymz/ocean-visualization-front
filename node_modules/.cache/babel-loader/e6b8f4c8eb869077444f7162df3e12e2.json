{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/MyFile/WebCode/ocean-vis/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport { isClient } from '@vueuse/core';\n\nvar resizeHandler = function resizeHandler(entries) {\n  var _iterator = _createForOfIteratorHelper(entries),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var entry = _step.value;\n      var listeners = entry.target.__resizeListeners__ || [];\n\n      if (listeners.length) {\n        listeners.forEach(function (fn) {\n          fn();\n        });\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n};\n\nvar addResizeListener = function addResizeListener(element, fn) {\n  if (!isClient || !element) return;\n\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = [];\n    element.__ro__ = new ResizeObserver(resizeHandler);\n\n    element.__ro__.observe(element);\n  }\n\n  element.__resizeListeners__.push(fn);\n};\n\nvar removeResizeListener = function removeResizeListener(element, fn) {\n  var _a;\n\n  if (!element || !element.__resizeListeners__) return;\n\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\n  if (!element.__resizeListeners__.length) {\n    (_a = element.__ro__) == null ? void 0 : _a.disconnect();\n  }\n};\n\nexport { addResizeListener, removeResizeListener };","map":{"version":3,"mappings":";;;;;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAASC,OAAT,EAAkB;AAAA,6CAClBA,OADkB;AAAA;;AAAA;AACtC,wDAA6B;AAAA,UAAlBC,KAAkB;AAC3B,UAAMC,SAAS,GAAGD,KAAK,CAACE,MAAN,CAAaC,mBAAb,IAAoC,EAAtD;;AACA,UAAIF,SAAS,CAACG,MAAd,EAAsB;AACpBH,iBAAS,CAACI,OAAV,CAAkB,UAACC,EAAD,EAAQ;AACxBA,YAAE;AACH,SAFD;AAGD;AACF;AARqC;AAAA;AAAA;AAAA;AAAA;AASvC,CATD;;AAUY,IAACC,iBAAiB,GAAG,SAApBA,iBAAoB,CAASC,OAAT,EAAkBF,EAAlB,EAAsB;AACrD,MAAI,CAACG,QAAD,IAAa,CAACD,OAAlB,EACE;;AACF,MAAI,CAACA,OAAO,CAACL,mBAAb,EAAkC;AAChCK,WAAO,CAACL,mBAAR,GAA8B,EAA9B;AACAK,WAAO,CAACE,MAAR,GAAiB,IAAIC,cAAJ,CAAmBb,aAAnB,CAAjB;;AACAU,WAAO,CAACE,MAAR,CAAeE,OAAf,CAAuBJ,OAAvB;AACD;;AACDA,SAAO,CAACL,mBAAR,CAA4BU,IAA5B,CAAiCP,EAAjC;AACF,CATY;;AAUA,IAACQ,oBAAoB,GAAG,SAAvBA,oBAAuB,CAASN,OAAT,EAAkBF,EAAlB,EAAsB;AACxD,MAAIS,EAAJ;;AACA,MAAI,CAACP,OAAD,IAAY,CAACA,OAAO,CAACL,mBAAzB,EACE;;AACFK,SAAO,CAACL,mBAAR,CAA4Ba,MAA5B,CAAmCR,OAAO,CAACL,mBAAR,CAA4Bc,OAA5B,CAAoCX,EAApC,CAAnC,EAA4E,CAA5E;;AACA,MAAI,CAACE,OAAO,CAACL,mBAAR,CAA4BC,MAAjC,EAAyC;AACvC,KAACW,EAAE,GAAGP,OAAO,CAACE,MAAd,KAAyB,IAAzB,GAAgC,KAAK,CAArC,GAAyCK,EAAE,CAACG,UAAH,EAAzC;AACD;AACH,CARY","names":["resizeHandler","entries","entry","listeners","target","__resizeListeners__","length","forEach","fn","addResizeListener","element","isClient","__ro__","ResizeObserver","observe","push","removeResizeListener","_a","splice","indexOf","disconnect"],"sources":["../../../../../packages/utils/dom/resize-event.ts"],"sourcesContent":["import { isClient } from '@vueuse/core'\n\nimport type { HTMLElementCustomized } from '../typescript'\n\nexport type ResizableElement = HTMLElementCustomized<{\n  __resizeListeners__?: Array<(...args: unknown[]) => unknown>\n  __ro__?: ResizeObserver\n}>\n\nconst resizeHandler = function (entries: ResizeObserverEntry[]) {\n  for (const entry of entries) {\n    const listeners =\n      (entry.target as ResizableElement).__resizeListeners__ || []\n    if (listeners.length) {\n      listeners.forEach((fn) => {\n        fn()\n      })\n    }\n  }\n}\n\n/** @deprecated use `useResizeObserver` or `useElementSize` in vueuse */\nexport const addResizeListener = function (\n  element: ResizableElement,\n  fn: (...args: unknown[]) => unknown\n): void {\n  if (!isClient || !element) return\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = []\n    element.__ro__ = new ResizeObserver(resizeHandler)\n    element.__ro__.observe(element)\n  }\n  element.__resizeListeners__.push(fn)\n}\n\n/** @deprecated use `useResizeObserver` or `useElementSize` in vueuse */\nexport const removeResizeListener = function (\n  element: ResizableElement,\n  fn: (...args: unknown[]) => unknown\n): void {\n  if (!element || !element.__resizeListeners__) return\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1)\n  if (!element.__resizeListeners__.length) {\n    element.__ro__?.disconnect()\n  }\n}\n"]},"metadata":{},"sourceType":"module"}