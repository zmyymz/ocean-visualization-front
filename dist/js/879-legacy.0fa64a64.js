"use strict";(self["webpackChunkocean_vis"]=self["webpackChunkocean_vis"]||[]).push([[879],{6:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("div",{staticClass:"maptitle"},[t._v("标题")]),a("div",{attrs:{id:"mapPanel1"}},[a("div",{staticClass:"titlelng",staticStyle:{"text-align":"center","font-size":"12px","font-weight":"bold","writing-mode":"tb",transform:"rotate(180deg)"}},[t._v(" Latitude(°)")]),a("div",{ref:"left",staticClass:"left"}),a("div",{staticClass:"map"}),t._m(0)]),a("div",{staticClass:"top1"}),a("div",{staticClass:"titlelng",staticStyle:{"text-align":"center","font-size":"12px","font-weight":"bold"}},[t._v("Longitude(°)")]),a("div",{attrs:{id:"mapfooter1"}},[a("div",{ref:"scale",staticClass:"scale"}),a("div",{ref:"mapval",staticClass:"mapval"},[t._v("无")]),a("div",{ref:"lnglat1",staticClass:"lnglat",attrs:{id:"lnglat1"}})])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right"},[a("img",{staticClass:"legend1",staticStyle:{height:"100%"},attrs:{src:""}})])}],i=(a(1249),a(6977),a(2222),a(8646),a(4156),{name:"Map",data:function(){return{map:null}},mounted:function(){},methods:{initMap:function(){var t=this;this.map.on("moveend",(function(e){var a="Scale 1 : "+document.getElementsByClassName("ol-scale-line1-inner")[0].innerHTML;document.getElementById("mapfooter1").getElementsByClassName("scale")[0].innerHTML=a;for(var n=t.map.getView().calculateExtent(),s=(n[2]-n[0])/5,i=(n[3]-n[1])/5,l="",c="",o=0;o<5;o++)l+='<div class="kedu1"><span>'.concat((i*o+n[1]).toFixed(1),"</span></div>"),c+='<div class="kedu2"><span>'.concat((s*o+n[0]).toFixed(1),"</span></div>");document.getElementById("mapPanel1").getElementsByClassName("left")[0].innerHTML=l,document.getElementsByClassName("top1")[0].innerHTML=c})),this.map.on("singleclick",(function(t){if(""!==addedLayer){var e=t.coordinate,a=e[0]-2+","+(e[1]-2)+","+(e[0]+2)+","+(e[1]+2);$.get("/mygeoserver/geoserver/cite/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&FORMAT=image%2Fjpeg\n              &TRANSPARENT=true&QUERY_LAYERS=".concat(addedLayer,"&LAYERS=").concat(addedLayer,"&exceptions=application%2Fvnd.ogc.se_inimage&INFO_FORMAT=application%2Fjson\n              &FEATURE_COUNT=50&X=50&Y=50&SRS=EPSG%3A404000&STYLES=&WIDTH=101&HEIGHT=101&BBOX=").concat(a),(function(t){var e="无";0!==t.features.length&&(e=t.features[0].properties.GRAY_INDEX.toFixed(4)),document.getElementById("mapfooter1").getElementsByClassName("mapval")[0].innerHTML=e}))}else alert("请先加载影像！")}))}}}),l=i,c=a(1001),o=(0,c.Z)(l,n,s,!1,null,null,null),r=o.exports}}]);
//# sourceMappingURL=879-legacy.0fa64a64.js.map