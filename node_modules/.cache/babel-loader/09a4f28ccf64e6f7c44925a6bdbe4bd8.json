{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { isObject } from '@vue/shared';\nimport { FORWARD, BACKWARD, LTR, RTL, HORIZONTAL, RTL_OFFSET_POS_DESC, RTL_OFFSET_NAG, RTL_OFFSET_POS_ASC, PageKey } from './defaults.mjs';\n\nvar getScrollDir = function getScrollDir(prev, cur) {\n  return prev < cur ? FORWARD : BACKWARD;\n};\n\nvar isHorizontal = function isHorizontal(dir) {\n  return dir === LTR || dir === RTL || dir === HORIZONTAL;\n};\n\nvar isRTL = function isRTL(dir) {\n  return dir === RTL;\n};\n\nvar cachedRTLResult = null;\n\nfunction getRTLOffsetType() {\n  var recalculate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement(\"div\");\n    var outerStyle = outerDiv.style;\n    outerStyle.width = \"50px\";\n    outerStyle.height = \"50px\";\n    outerStyle.overflow = \"scroll\";\n    outerStyle.direction = \"rtl\";\n    var innerDiv = document.createElement(\"div\");\n    var innerStyle = innerDiv.style;\n    innerStyle.width = \"100px\";\n    innerStyle.height = \"100px\";\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC;\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG;\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC;\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar getRelativePos = function getRelativePos(e, layout) {\n  return \"touches\" in e ? e.touches[0][PageKey[layout]] : e[PageKey[layout]];\n};\n\nfunction renderThumbStyle(_ref, layout) {\n  var move = _ref.move,\n      size = _ref.size,\n      bar = _ref.bar;\n  var style = {};\n  var translate = \"translate\".concat(bar.axis, \"(\").concat(move, \"px)\");\n  style[bar.size] = size;\n  style.transform = translate;\n  style.msTransform = translate;\n  style.webkitTransform = translate;\n\n  if (layout === \"horizontal\") {\n    style.height = \"100%\";\n  } else {\n    style.width = \"100%\";\n  }\n\n  return style;\n}\n\nvar isFF = typeof navigator !== \"undefined\" && isObject(navigator) && /Firefox/i.test(navigator.userAgent);\nexport { getRTLOffsetType, getRelativePos, getScrollDir, isFF, isHorizontal, isRTL, renderThumbStyle };","map":{"version":3,"mappings":"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","names":["getScrollDir","prev","cur","FORWARD","BACKWARD","isHorizontal","dir","LTR","RTL","HORIZONTAL","isRTL","cachedRTLResult","getRTLOffsetType","recalculate","outerDiv","document","createElement","outerStyle","style","width","height","overflow","direction","innerDiv","innerStyle","appendChild","body","scrollLeft","RTL_OFFSET_POS_DESC","RTL_OFFSET_NAG","RTL_OFFSET_POS_ASC","removeChild","getRelativePos","e","layout","touches","PageKey","renderThumbStyle","move","size","bar","translate","axis","transform","msTransform","webkitTransform","isFF","navigator","isObject","test","userAgent"],"sources":["../../../../../../packages/components/virtual-list/src/utils.ts"],"sourcesContent":["import { isObject } from '@vue/shared'\nimport {\n  FORWARD,\n  BACKWARD,\n  LTR,\n  RTL,\n  HORIZONTAL,\n  RTL_OFFSET_NAG,\n  RTL_OFFSET_POS_DESC,\n  RTL_OFFSET_POS_ASC,\n  PageKey,\n} from './defaults'\n\nimport type { CSSProperties } from 'vue'\nimport type { RTLOffsetType, Direction, LayoutDirection } from './types'\n\nexport const getScrollDir = (prev: number, cur: number) =>\n  prev < cur ? FORWARD : BACKWARD\n\nexport const isHorizontal = (dir: string) =>\n  dir === LTR || dir === RTL || dir === HORIZONTAL\n\nexport const isRTL = (dir: Direction) => dir === RTL\n\nlet cachedRTLResult: RTLOffsetType | null = null\n\nexport function getRTLOffsetType(recalculate = false): RTLOffsetType {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement('div')\n    const outerStyle = outerDiv.style\n    outerStyle.width = '50px'\n    outerStyle.height = '50px'\n    outerStyle.overflow = 'scroll'\n    outerStyle.direction = 'rtl'\n\n    const innerDiv = document.createElement('div')\n    const innerStyle = innerDiv.style\n    innerStyle.width = '100px'\n    innerStyle.height = '100px'\n\n    outerDiv.appendChild(innerDiv)\n\n    document.body.appendChild(outerDiv)\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC\n    } else {\n      outerDiv.scrollLeft = 1\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC\n      }\n    }\n\n    document.body.removeChild(outerDiv)\n\n    return cachedRTLResult\n  }\n\n  return cachedRTLResult\n}\n\nexport const getRelativePos = (\n  e: TouchEvent | MouseEvent,\n  layout: LayoutDirection\n) => {\n  return 'touches' in e ? e.touches[0][PageKey[layout]] : e[PageKey[layout]]\n}\n\nexport function renderThumbStyle({ move, size, bar }, layout: string) {\n  const style: CSSProperties = {}\n  const translate = `translate${bar.axis}(${move}px)`\n\n  style[bar.size] = size\n  style.transform = translate\n  style.msTransform = translate\n  // polyfill\n  ;(style as any).webkitTransform = translate\n\n  if (layout === 'horizontal') {\n    style.height = '100%'\n  } else {\n    style.width = '100%'\n  }\n\n  return style\n}\n\nexport const isFF =\n  typeof navigator !== 'undefined' &&\n  isObject(navigator) &&\n  /Firefox/i.test(navigator.userAgent)\n"]},"metadata":{},"sourceType":"module"}