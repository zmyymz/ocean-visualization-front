{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.splice.js\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/interaction/Select\n */\n\n\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Interaction from './Interaction.js';\nimport VectorLayer from '../layer/Vector.js';\nimport { TRUE } from '../functions.js';\nimport { clear } from '../obj.js';\nimport { createEditingStyle } from '../style/Style.js';\nimport { extend, includes } from '../array.js';\nimport { getUid } from '../util.js';\nimport { never, shiftKeyOnly, singleClick } from '../events/condition.js';\n/**\n * @enum {string}\n */\n\nvar SelectEventType = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event SelectEvent#select\n   * @api\n   */\n  SELECT: 'select'\n};\n/**\n * A function that takes an {@link module:ol/Feature~Feature} or\n * {@link module:ol/render/Feature~RenderFeature} and an\n * {@link module:ol/layer/Layer~Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>):boolean} FilterFunction\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is the event\n * for the selected features as a whole. By default, this is\n * {@link module:ol/events/condition.singleClick}. Clicking on a feature selects that\n * feature and removes any that were in the selection. Clicking outside any\n * feature removes all from the selection.\n * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n * from the selection.\n * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} [layers]\n * A list of layers from which features should be selected. Alternatively, a\n * filter function can be provided. The function will be called for each layer\n * in the map and should return `true` for layers that you want to be\n * selectable. If the option is absent, all visible layers will be considered\n * selectable.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style]\n * Style for the selected features. By default the default edit style is used\n * (see {@link module:ol/style/Style~Style}). Set to `null` if this interaction should not apply\n * any style changes for selected features.\n * If set to a falsey value, the selected feature's style will not change.\n * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is in addition\n * to the `condition` event. By default,\n * {@link module:ol/events/condition.shiftKeyOnly}, i.e. pressing `shift` as\n * well as the `condition` event, adds that feature to the current selection if\n * it is not currently selected, and removes it if it is. See `add` and `remove`\n * if you want to use different events instead of a toggle.\n * @property {boolean} [multi=false] A boolean that determines if the default\n * behaviour should select only single features or all (overlapping) features at\n * the clicked map position. The default of `false` means single select.\n * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features]\n * Collection where the interaction will place selected features. Optional. If\n * not set the interaction will create a collection. In any case the collection\n * used by the interaction is returned by\n * {@link module:ol/interaction/Select~Select#getFeatures}.\n * @property {FilterFunction} [filter] A function\n * that takes an {@link module:ol/Feature~Feature} and an\n * {@link module:ol/layer/Layer~Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n * the radius around the given position will be checked for features.\n */\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n * this type.\n */\n\nvar SelectEvent =\n/** @class */\nfunction (_super) {\n  __extends(SelectEvent, _super);\n  /**\n   * @param {SelectEventType} type The event type.\n   * @param {Array<import(\"../Feature.js\").default>} selected Selected features.\n   * @param {Array<import(\"../Feature.js\").default>} deselected Deselected features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Associated\n   *     {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n   */\n\n\n  function SelectEvent(type, selected, deselected, mapBrowserEvent) {\n    var _this = _super.call(this, type) || this;\n    /**\n     * Selected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n\n\n    _this.selected = selected;\n    /**\n     * Deselected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n\n    _this.deselected = deselected;\n    /**\n     * Associated {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @type {import(\"../MapBrowserEvent.js\").default}\n     * @api\n     */\n\n    _this.mapBrowserEvent = mapBrowserEvent;\n    return _this;\n  }\n\n  return SelectEvent;\n}(Event);\n\nexport { SelectEvent };\n/**\n * Original feature styles to reset to when features are no longer selected.\n * @type {Object<number, import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction>}\n */\n\nvar originalFeatureStyles = {};\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'select', SelectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'select', Return>} SelectOnSignature\n */\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * @fires SelectEvent\n * @api\n */\n\nvar Select =\n/** @class */\nfunction (_super) {\n  __extends(Select, _super);\n  /**\n   * @param {Options} [opt_options] Options.\n   */\n\n\n  function Select(opt_options) {\n    var _this = _super.call(this) || this;\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n\n\n    _this.on;\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n\n    _this.once;\n    /***\n     * @type {SelectOnSignature<void>}\n     */\n\n    _this.un;\n    var options = opt_options ? opt_options : {};\n    /**\n     * @private\n     */\n\n    _this.boundAddFeature_ = _this.addFeature_.bind(_this);\n    /**\n     * @private\n     */\n\n    _this.boundRemoveFeature_ = _this.removeFeature_.bind(_this);\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n\n    _this.condition_ = options.condition ? options.condition : singleClick;\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n\n    _this.addCondition_ = options.addCondition ? options.addCondition : never;\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n\n    _this.removeCondition_ = options.removeCondition ? options.removeCondition : never;\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n\n    _this.toggleCondition_ = options.toggleCondition ? options.toggleCondition : shiftKeyOnly;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    _this.multi_ = options.multi ? options.multi : false;\n    /**\n     * @private\n     * @type {FilterFunction}\n     */\n\n    _this.filter_ = options.filter ? options.filter : TRUE;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    _this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n    /**\n     * @private\n     * @type {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null}\n     */\n\n    _this.style_ = options.style !== undefined ? options.style : getDefaultStyleFunction();\n    /**\n     * @private\n     * @type {import(\"../Collection.js\").default}\n     */\n\n    _this.features_ = options.features || new Collection();\n    /** @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} */\n\n    var layerFilter;\n\n    if (options.layers) {\n      if (typeof options.layers === 'function') {\n        layerFilter = options.layers;\n      } else {\n        var layers_1 = options.layers;\n\n        layerFilter = function layerFilter(layer) {\n          return includes(layers_1, layer);\n        };\n      }\n    } else {\n      layerFilter = TRUE;\n    }\n    /**\n     * @private\n     * @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean}\n     */\n\n\n    _this.layerFilter_ = layerFilter;\n    /**\n     * An association between selected feature (key)\n     * and layer (value)\n     * @private\n     * @type {Object<string, import(\"../layer/Layer.js\").default>}\n     */\n\n    _this.featureLayerAssociation_ = {};\n    return _this;\n  }\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {import(\"../layer/Layer.js\").default} layer Layer.\n   * @private\n   */\n\n\n  Select.prototype.addFeatureLayerAssociation_ = function (feature, layer) {\n    this.featureLayerAssociation_[getUid(feature)] = layer;\n  };\n  /**\n   * Get the selected features.\n   * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} Features collection.\n   * @api\n   */\n\n\n  Select.prototype.getFeatures = function () {\n    return this.features_;\n  };\n  /**\n   * Returns the Hit-detection tolerance.\n   * @return {number} Hit tolerance in pixels.\n   * @api\n   */\n\n\n  Select.prototype.getHitTolerance = function () {\n    return this.hitTolerance_;\n  };\n  /**\n   * Returns the associated {@link module:ol/layer/Vector~VectorLayer vector layer} of\n   * a selected feature.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature\n   * @return {import('../layer/Vector.js').default} Layer.\n   * @api\n   */\n\n\n  Select.prototype.getLayer = function (feature) {\n    return (\n      /** @type {import('../layer/Vector.js').default} */\n      this.featureLayerAssociation_[getUid(feature)]\n    );\n  };\n  /**\n   * Hit-detection tolerance. Pixels inside the radius around the given position\n   * will be checked for features.\n   * @param {number} hitTolerance Hit tolerance in pixels.\n   * @api\n   */\n\n\n  Select.prototype.setHitTolerance = function (hitTolerance) {\n    this.hitTolerance_ = hitTolerance;\n  };\n  /**\n   * Remove the interaction from its current map, if any,  and attach it to a new\n   * map, if any. Pass `null` to just remove the interaction from the current map.\n   * @param {import(\"../PluggableMap.js\").default|null} map Map.\n   * @api\n   */\n\n\n  Select.prototype.setMap = function (map) {\n    var currentMap = this.getMap();\n\n    if (currentMap && this.style_) {\n      this.features_.forEach(this.restorePreviousStyle_.bind(this));\n    }\n\n    _super.prototype.setMap.call(this, map);\n\n    if (map) {\n      this.features_.addEventListener(CollectionEventType.ADD, this.boundAddFeature_);\n      this.features_.addEventListener(CollectionEventType.REMOVE, this.boundRemoveFeature_);\n\n      if (this.style_) {\n        this.features_.forEach(this.applySelectedStyle_.bind(this));\n      }\n    } else {\n      this.features_.removeEventListener(CollectionEventType.ADD, this.boundAddFeature_);\n      this.features_.removeEventListener(CollectionEventType.REMOVE, this.boundRemoveFeature_);\n    }\n  };\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @private\n   */\n\n\n  Select.prototype.addFeature_ = function (evt) {\n    var feature = evt.element;\n\n    if (this.style_) {\n      this.applySelectedStyle_(feature);\n    }\n\n    if (!this.getLayer(feature)) {\n      var layer =\n      /** @type {VectorLayer} */\n      this.getMap().getAllLayers().find(function (layer) {\n        if (layer instanceof VectorLayer && layer.getSource() && layer.getSource().hasFeature(feature)) {\n          return layer;\n        }\n      });\n\n      if (layer) {\n        this.addFeatureLayerAssociation_(feature, layer);\n      }\n    }\n  };\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @private\n   */\n\n\n  Select.prototype.removeFeature_ = function (evt) {\n    var feature = evt.element;\n\n    if (this.style_) {\n      this.restorePreviousStyle_(feature);\n    }\n  };\n  /**\n   * @return {import(\"../style/Style.js\").StyleLike|null} Select style.\n   */\n\n\n  Select.prototype.getStyle = function () {\n    return this.style_;\n  };\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @private\n   */\n\n\n  Select.prototype.applySelectedStyle_ = function (feature) {\n    var key = getUid(feature);\n\n    if (!(key in originalFeatureStyles)) {\n      originalFeatureStyles[key] = feature.getStyle();\n    }\n\n    feature.setStyle(this.style_);\n  };\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @private\n   */\n\n\n  Select.prototype.restorePreviousStyle_ = function (feature) {\n    var interactions = this.getMap().getInteractions().getArray();\n\n    for (var i = interactions.length - 1; i >= 0; --i) {\n      var interaction = interactions[i];\n\n      if (interaction !== this && interaction instanceof Select && interaction.getStyle() && interaction.getFeatures().getArray().lastIndexOf(feature) !== -1) {\n        feature.setStyle(interaction.getStyle());\n        return;\n      }\n    }\n\n    var key = getUid(feature);\n    feature.setStyle(originalFeatureStyles[key]);\n    delete originalFeatureStyles[key];\n  };\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @private\n   */\n\n\n  Select.prototype.removeFeatureLayerAssociation_ = function (feature) {\n    delete this.featureLayerAssociation_[getUid(feature)];\n  };\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} and may change the\n   * selected state of features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {Select}\n   */\n\n\n  Select.prototype.handleEvent = function (mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n\n    var add = this.addCondition_(mapBrowserEvent);\n    var remove = this.removeCondition_(mapBrowserEvent);\n    var toggle = this.toggleCondition_(mapBrowserEvent);\n    var set = !add && !remove && !toggle;\n    var map = mapBrowserEvent.map;\n    var features = this.getFeatures();\n    var deselected = [];\n    var selected = [];\n\n    if (set) {\n      // Replace the currently selected feature(s) with the feature(s) at the\n      // pixel, or clear the selected feature(s) if there is no feature at\n      // the pixel.\n      clear(this.featureLayerAssociation_);\n      map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n      /**\n       * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n       * @param {import(\"../layer/Layer.js\").default} layer Layer.\n       * @return {boolean|undefined} Continue to iterate over the features.\n       */\n      function (feature, layer) {\n        if (this.filter_(feature, layer)) {\n          this.addFeatureLayerAssociation_(feature, layer);\n          selected.push(feature);\n          return !this.multi_;\n        }\n      }.bind(this), {\n        layerFilter: this.layerFilter_,\n        hitTolerance: this.hitTolerance_\n      });\n\n      for (var i = features.getLength() - 1; i >= 0; --i) {\n        var feature = features.item(i);\n        var index = selected.indexOf(feature);\n\n        if (index > -1) {\n          // feature is already selected\n          selected.splice(index, 1);\n        } else {\n          features.remove(feature);\n          deselected.push(feature);\n        }\n      }\n\n      if (selected.length !== 0) {\n        features.extend(selected);\n      }\n    } else {\n      // Modify the currently selected feature(s).\n      map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n      /**\n       * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n       * @param {import(\"../layer/Layer.js\").default} layer Layer.\n       * @return {boolean|undefined} Continue to iterate over the features.\n       */\n      function (feature, layer) {\n        if (this.filter_(feature, layer)) {\n          if ((add || toggle) && !includes(features.getArray(), feature)) {\n            this.addFeatureLayerAssociation_(feature, layer);\n            selected.push(feature);\n          } else if ((remove || toggle) && includes(features.getArray(), feature)) {\n            deselected.push(feature);\n            this.removeFeatureLayerAssociation_(feature);\n          }\n\n          return !this.multi_;\n        }\n      }.bind(this), {\n        layerFilter: this.layerFilter_,\n        hitTolerance: this.hitTolerance_\n      });\n\n      for (var j = deselected.length - 1; j >= 0; --j) {\n        features.remove(deselected[j]);\n      }\n\n      features.extend(selected);\n    }\n\n    if (selected.length > 0 || deselected.length > 0) {\n      this.dispatchEvent(new SelectEvent(SelectEventType.SELECT, selected, deselected, mapBrowserEvent));\n    }\n\n    return true;\n  };\n\n  return Select;\n}(Interaction);\n/**\n * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n */\n\n\nfunction getDefaultStyleFunction() {\n  var styles = createEditingStyle();\n  extend(styles[GeometryType.POLYGON], styles[GeometryType.LINE_STRING]);\n  extend(styles[GeometryType.GEOMETRY_COLLECTION], styles[GeometryType.LINE_STRING]);\n  return function (feature) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n\n    return styles[feature.getGeometry().getType()];\n  };\n}\n\nexport default Select;","map":{"version":3,"mappings":"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","names":["Collection","CollectionEventType","Event","GeometryType","Interaction","VectorLayer","TRUE","clear","createEditingStyle","extend","includes","getUid","never","shiftKeyOnly","singleClick","SelectEventType","SELECT","__extends","type","selected","deselected","mapBrowserEvent","_super","_this","originalFeatureStyles","opt_options","on","once","un","options","boundAddFeature_","addFeature_","bind","boundRemoveFeature_","removeFeature_","condition_","condition","addCondition_","addCondition","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","filter","hitTolerance_","hitTolerance","style_","style","undefined","getDefaultStyleFunction","features_","features","layerFilter","layers","layers_1","layer","layerFilter_","featureLayerAssociation_","Select","feature","map","currentMap","getMap","forEach","restorePreviousStyle_","setMap","call","addEventListener","ADD","REMOVE","applySelectedStyle_","removeEventListener","evt","element","getLayer","getAllLayers","find","getSource","hasFeature","addFeatureLayerAssociation_","key","getStyle","setStyle","interactions","getInteractions","getArray","i","length","interaction","getFeatures","lastIndexOf","add","remove","toggle","set","forEachFeatureAtPixel","pixel","push","getLength","item","index","indexOf","splice","removeFeatureLayerAssociation_","j","dispatchEvent","SelectEvent","styles","POLYGON","LINE_STRING","GEOMETRY_COLLECTION","getGeometry","getType"],"sourceRoot":"","sources":["../src/interaction/Select.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}